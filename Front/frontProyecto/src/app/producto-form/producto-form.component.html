<h3 class="mb-4">{{ editMode ? 'Editar publicación' : 'Nueva publicación' }}</h3>

<form [formGroup]="formulario" (ngSubmit)="onSubmit()" class="row g-3" novalidate>
  <div class="col-md-6">
    <label class="form-label">Nombre del producto/servicio</label>
    <input type="text" class="form-control" formControlName="titulo">
  </div>
  <div class="col-md-6">
    <label class="form-label">Categoría</label>
    <select class="form-select" formControlName="categoria_id">
      <option value="" disabled>Seleccione</option>
      <option *ngFor="let cat of categorias" [value]="cat.id">{{ cat.nombre }}</option>
    </select>
  </div>
  <div class="col-12">
    <label class="form-label">Descripción</label>
    <textarea rows="4" class="form-control" formControlName="descripcion"></textarea>
  </div>
  <div class="col-md-4">
    <label class="form-label">Precio</label>
    <input type="number" class="form-control" formControlName="precio">
  </div>
  <div class="col-md-8">
    <label class="form-label">Datos de contacto</label>
    <input type="text" class="form-control" formControlName="info_contacto">
  </div>
  <div class="col-12">
    <label class="form-label">Imágenes (máx 5, 2 MB c/u)</label>
    <input type="file" class="form-control" (change)="onSeleccionarImagenes($event)" multiple accept="image/*">
    <div class="d-flex flex-wrap mt-2 gap-2">
      <img *ngFor="let img of imagenesPreview" [src]="img" class="rounded border" style="width:120px;height:120px;object-fit:cover;">
    </div>
  </div>
  <div class="col-12 text-end">
    <button type="submit" class="btn btn-primary" [disabled]="formulario.invalid">
      {{ editMode ? 'Actualizar' : 'Publicar' }}
    </button>
  </div>
</form> 